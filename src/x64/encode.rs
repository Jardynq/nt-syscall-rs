pub macro encode {
    (@ "jmp rcx")                           => { ".byte 0xff, 0xe1" },
    (@ "jmp rax")                           => { ".byte 0xff, 0xe0" },
    (@ "call rax")                          => { ".byte 0xff, 0xd0" },
    (@ "call rcx")                          => { ".byte 0xff, 0xd1" },
    (@ "call r11")                          => { ".byte 0x41, 0xff, 0xd3" },
    (@ "call $0")                           => { ".byte 0xe8, 0x00, 0x00, 0x00, 0x00" },
    (@ "ret")                               => { ".byte 0xc3" },
    (@ "retf")                              => { ".byte 0xcb" },

    (@ "push rbp")                          => { ".byte 0x55" },
    (@ "push rax")                          => { ".byte 0x50" },
    (@ "push rcx")                          => { ".byte 0x51" },
    (@ "push rdx")                          => { ".byte 0x52" },
    (@ "push r8")                           => { ".byte 0x41, 0x50" },
    (@ "push r9")                           => { ".byte 0x41, 0x51" },
    (@ "push r10")                          => { ".byte 0x41, 0x52" },
    (@ "push r11")                          => { ".byte 0x41, 0x53" },

    (@ "movdqu [rsp], xmm0")                => {".byte 0xF3, 0x0F, 0x7F, 0x04, 0x24"},
    (@ "movdqu [rsp + 16], xmm1")           => {".byte 0xF3, 0x0F, 0x7F, 0x4C, 0x24, 0x10"},
    (@ "movdqu [rsp + 32], xmm2")           => {".byte 0xF3, 0x0F, 0x7F, 0x54, 0x24, 0x20"},
    (@ "movdqu [rsp + 48], xmm3")           => {".byte 0xF3, 0x0F, 0x7F, 0x5C, 0x24, 0x30"},

    (@ "pop rbp")                           => { ".byte 0x5D" },
    (@ "pop rax")                           => { ".byte 0x58" },
    (@ "pop rcx")                           => { ".byte 0x59" },
    (@ "pop rdx")                           => { ".byte 0x5A" },
    (@ "pop r8")                            => { ".byte 0x41, 0x58" },
    (@ "pop r9")                            => { ".byte 0x41, 0x59" },
    (@ "pop r10")                           => { ".byte 0x41, 0x5A" },
    (@ "pop r11")                           => { ".byte 0x41, 0x5B" },
    (@ "movdqu xmm0, [rsp]")                => {".byte 0xF3, 0x0F, 0x6F, 0x04, 0x24"},
    (@ "movdqu xmm1, [rsp + 16]")           => {".byte 0xF3, 0x0F, 0x6F, 0x4C, 0x24, 0x10"},
    (@ "movdqu xmm2, [rsp + 32]")           => {".byte 0xF3, 0x0F, 0x6F, 0x54, 0x24, 0x20"},
    (@ "movdqu xmm3, [rsp + 48]")           => {".byte 0xF3, 0x0F, 0x6F, 0x5C, 0x24, 0x30"},

    (@ "add rsp, 64")                       => { ".byte 0x48, 0x83, 0xc4, 0x40" },
    (@ "sub rsp, 64")                       => { ".byte 0x48, 0x83, 0xec, 0x40" },

    (@ "mov ax, ds")                        => { ".byte 0x66, 0x8c, 0xd8" },
    (@ "mov ss, ax")                        => { ".byte 0x66, 0x8e, 0xd0" },
    (@ "mov eax, eax")                      => { ".byte 0x89, 0xc0" },
    (@ "mov esp, eax")                      => { ".byte 0x89, 0xc4" },
    (@ "mov esp, edx")                      => { ".byte 0x89, 0xd4" },
    (@ "mov rsp, rdx")                      => { ".byte 0x48, 0x89, 0xd4" },
    (@ "mov r11, rsp")                      => { ".byte 0x49, 0x89, 0xe3" },
    (@ "mov rsp, r11")                      => { ".byte 0x4c, 0x89, 0xdc" },
    (@ "mov rax, gs:[0x60]")                => { ".byte 0x65, 0x48, 0x8b, 0x04, 0x25, 0x60, 0x00, 0x00, 0x00" },
    (@ "mov rax, gs:[0x30]")                => { ".byte 0x65, 0x48, 0x8b, 0x04, 0x25, 0x30, 0x00, 0x00, 0x00" },
    (@ "mov eax, fs:[0x30]")                => { ".byte 0x64, 0xA1, 0x30, 0x00, 0x00, 0x00" },
    (@ "mov eax, fs:[0x18]")                => { ".byte 0x64, 0xA1, 0x18, 0x00, 0x00, 0x00" },

    (@ "sub rsp, 4")                        => { ".byte 0x48, 0x83, 0xec, 0x04" },
    (@ "sub rsp, 8")                        => { ".byte 0x48, 0x83, 0xec, 0x08" },
    (@ "sub rsp, 12")                       => { ".byte 0x48, 0x83, 0xec, 0x0c" },
    (@ "sub rsp, 16")                       => { ".byte 0x48, 0x83, 0xec, 0x10" },

    (@ "mov dword [rsp + 0x4], 0x23")       => { ".byte 0xc7, 0x44, 0x24, 0x04, 0x23, 0x00, 0x00, 0x00" },
    (@ "mov dword [rsp + 12], r9d")         => { ".byte 0x44, 0x89, 0x4c, 0x24, 0x12" },
    (@ "mov dword [rsp + 8], r8d")          => { ".byte 0x44, 0x89, 0x44, 0x24, 0x08" },
    (@ "mov dword [rsp + 4], edx")          => { ".byte 0x89, 0x54, 0x24, 0x04" },
    (@ "mov dword [rsp], ecx")              => { ".byte 0x89, 0x0c, 0x24" },
    (@ "mov rcx, qword [rcx]")              => { ".byte 0x48, 0x8B, 0x09" },

    (@ "movss xmm0, dword [rsp]")           => { ".byte 0xF3, 0x0F, 0x10, 0x04, 0x24" },
    (@ "movsd xmm0, qword [rsp]")           => { ".byte 0xF2, 0x0F, 0x10, 0x04, 0x24" },

    (@ "fstp dword [rsp]")                  => { ".byte 0xD9, 0x1C, 0x24" },
    (@ "fstp qword [rsp]")                  => { ".byte 0xDD, 0x1C, 0x24" },

    (@ "add dword [rsp], 0xd")              => { ".byte 0x83, 0x04, 0x24, 0x0d" },

    (@ "shl rcx, 32")                       => { ".byte 0x48, 0xc1, 0xe1, 0x20" },

    (@ "mov r8, qword [rax]")               => { ".byte 0x4C, 0x8B, 0x00" },
    (@ "mov r8, rax")                       => { ".byte 0x49, 0x89, 0xc0" },
    (@ "test rcx, rcx")                     => { ".byte 0x48, 0x85, 0xc9" },
    (@ "mov al, byte [r9]")                 => { ".byte 0x41, 0x8a, 0x01" },
    (@ "mov byte [r8], al")                 => { ".byte 0x41, 0x88, 0x00" },
    (@ "inc r8")                            => { ".byte 0x49, 0xff, 0xc0" },
    (@ "inc r9")                            => { ".byte 0x49, 0xff, 0xc1" },
    (@ "dec rcx")                           => { ".byte 0x48, 0xff, 0xc9" },

    (@ "jz +17")                            => { ".byte 0x74, 0x11" },
    (@ "jnz -17")                           => { ".byte 0x75, 0xef" },
    (@ "jz +11")                            => { ".byte 0x74, 0x0b" },
    (@ "jnz -11")                           => { ".byte 0x75, 0xf5" },

    (@ "and rsp, -0x10")                    => { ".byte 0x48, 0x83, 0xe4, 0xf0" },
    (@ "mov rbp, rsp")                      => { ".byte 0x48, 0x89, 0xe5" },
    (@ "mov rsp, rbp")                      => { ".byte 0x48, 0x89, 0xec" },
    (@ "syscall")                           => { ".byte 0x0f, 0x05" },

    (@ "sub rsp, 0x30") => { ".byte 0x48, 0x83, 0xec, 0x30" },
    (@ "sub rsp, 0x40") => { ".byte 0x48, 0x83, 0xec, 0x40" },
    (@ "sub rsp, 0x50") => { ".byte 0x48, 0x83, 0xec, 0x50" },
    (@ "sub rsp, 0x60") => { ".byte 0x48, 0x83, 0xec, 0x60" },
    (@ "sub rsp, 0x70") => { ".byte 0x48, 0x83, 0xec, 0x70" },

    (@ "mov rax, qword [rcx]")          => { ".byte 0x48, 0x8b, 0x01" },
    (@ "mov r10, qword [rcx + 0x10]")   => { ".byte 0x4C, 0x8b, 0x51, 0x10" },
    (@ "mov rdx, qword [rcx + 0x18]")   => { ".byte 0x48, 0x8b, 0x51, 0x18" },
    (@ "mov r8, qword [rcx + 0x20]")    => { ".byte 0x4c, 0x8b, 0x41, 0x20" },
    (@ "mov r9, qword [rcx + 0x28]")    => { ".byte 0x4c, 0x8b, 0x49, 0x28" },
    (@ "mov rax, qword [rcx + 0x8]")    => { ".byte 0x48, 0x8b, 0x41, 0x8" },
    (@ "mov rax, qword [rcx + 0x10]")   => { ".byte 0x48, 0x8b, 0x41, 0x10" },
    (@ "mov rax, qword [rcx + 0x18]")   => { ".byte 0x48, 0x8b, 0x41, 0x18" },
    (@ "mov rax, qword [rcx + 0x20]")   => { ".byte 0x48, 0x8b, 0x41, 0x20" },
    (@ "mov rax, qword [rcx + 0x28]")   => { ".byte 0x48, 0x8b, 0x41, 0x28" },
    (@ "mov rax, qword [rcx + 0x30]")   => { ".byte 0x48, 0x8b, 0x41, 0x30" },
    (@ "mov rax, qword [rcx + 0x38]")   => { ".byte 0x48, 0x8b, 0x41, 0x38" },
    (@ "mov rax, qword [rcx + 0x40]")   => { ".byte 0x48, 0x8b, 0x41, 0x40" },
    (@ "mov rax, qword [rcx + 0x48]")   => { ".byte 0x48, 0x8b, 0x41, 0x48" },
    (@ "mov rax, qword [rcx + 0x50]")   => { ".byte 0x48, 0x8b, 0x41, 0x50" },
    (@ "mov rax, qword [rcx + 0x58]")   => { ".byte 0x48, 0x8b, 0x41, 0x58" },
    (@ "mov rax, qword [rcx + 0x60]")   => { ".byte 0x48, 0x8b, 0x41, 0x60" },
    (@ "mov rax, qword [rcx + 0x68]")   => { ".byte 0x48, 0x8b, 0x41, 0x68" },
    (@ "mov rax, qword [rcx + 0x70]")   => { ".byte 0x48, 0x8b, 0x41, 0x70" },

    (@ "mov qword [rsp + 0x20], rax") => { ".byte 0x48, 0x89, 0x44, 0x24, 0x20" },
    (@ "mov qword [rsp + 0x28], rax") => { ".byte 0x48, 0x89, 0x44, 0x24, 0x28" },
    (@ "mov qword [rsp + 0x30], rax") => { ".byte 0x48, 0x89, 0x44, 0x24, 0x30" },
    (@ "mov qword [rsp + 0x38], rax") => { ".byte 0x48, 0x89, 0x44, 0x24, 0x38" },
    (@ "mov qword [rsp + 0x40], rax") => { ".byte 0x48, 0x89, 0x44, 0x24, 0x40" },
    (@ "mov qword [rsp + 0x48], rax") => { ".byte 0x48, 0x89, 0x44, 0x24, 0x48" },
    (@ "mov qword [rsp + 0x50], rax") => { ".byte 0x48, 0x89, 0x44, 0x24, 0x50" },
    (@ "mov qword [rsp + 0x58], rax") => { ".byte 0x48, 0x89, 0x44, 0x24, 0x58" },
    (@ "mov qword [rsp + 0x60], rax") => { ".byte 0x48, 0x89, 0x44, 0x24, 0x60" },
    (@ "mov qword [rsp + 0x68], rax") => { ".byte 0x48, 0x89, 0x44, 0x24, 0x68" },

    (@ "mov qword [rcx + 0x8], rax") => { ".byte 0x48, 0x89, 0x01" },

    (@ "add rcx, 0x8")  => { ".byte 0x48, 0x83, 0xc1, 0x08" },
    (@ "add rcx, 0x10") => { ".byte 0x48, 0x83, 0xc1, 0x10" },
    (@ "add rcx, 0x18") => { ".byte 0x48, 0x83, 0xc1, 0x18" },
    (@ "add rcx, 0x20") => { ".byte 0x48, 0x83, 0xc1, 0x20" },
    (@ "add rcx, 0x28") => { ".byte 0x48, 0x83, 0xc1, 0x28" },
    (@ "add rcx, 0x30") => { ".byte 0x48, 0x83, 0xc1, 0x30" },
    (@ "add rcx, 0x38") => { ".byte 0x48, 0x83, 0xc1, 0x38" },
    (@ "add rcx, 0x40") => { ".byte 0x48, 0x83, 0xc1, 0x40" },
    (@ "add rcx, 0x48") => { ".byte 0x48, 0x83, 0xc1, 0x48" },
    (@ "add rcx, 0x50") => { ".byte 0x48, 0x83, 0xc1, 0x50" },
    (@ "add rcx, 0x58") => { ".byte 0x48, 0x83, 0xc1, 0x58" },
    (@ "add rcx, 0x60") => { ".byte 0x48, 0x83, 0xc1, 0x60" },
    (@ "add rcx, 0x68") => { ".byte 0x48, 0x83, 0xc1, 0x68" },

    (@ "shl rcx, 32")                       => { ".byte 0x48, 0xc1, 0xe1, 0x20" },
    (@ "shl rdx, 32")                       => { ".byte 0x48, 0xc1, 0xe2, 0x20" },
    (@ "or rcx, rdx")                       => { ".byte 0x48, 0x09, 0xd1"},

    (@ "mov qword [rdx], rax")             => { ".byte 0x48, 0x89, 0x02" },
    (@ "mov rdx, qword [rcx]")             => { ".byte 0x48, 0x8b, 0x11" },
    (@ "mov ax, cs")                        => { ".byte 0x66, 0x8c, 0xc8" },

    (@ "dec rdx")                          => { ".byte 0x48, 0xff, 0xca" },
    (@ "test rdx, rdx")                     => { ".byte 0x48, 0x85, 0xd2" },
    (@ "mov rdx, qword [rcx + 0x10]")    => { ".byte 0x48, 0x8b, 0x51, 0x10" },

    (@ "mov rax, qword [rcx - 0x10]")   => { ".byte 0x48, 0x8b, 0x41, 0xf0" },
    (@ "mov rax, qword [rcx]")          => { ".byte 0x48, 0x8b, 0x01" },
    (@ "mov rcx, qword [rcx]")          => { ".byte 0x48, 0x8b, 0x09" },
    (@ "mov rdx, qword [rcx]")          => { ".byte 0x48, 0x8b, 0x11" },
    (@ "mov rsi, qword [rcx]")          => { ".byte 0x48, 0x8b, 0x31" },
    (@ "mov rdi, qword [rcx]")          => { ".byte 0x48, 0x8b, 0x39" },
    (@ "mov r8, qword [rcx]")           => { ".byte 0x4c, 0x8b, 0x01" },
    (@ "mov r9, qword [rcx]")           => { ".byte 0x4c, 0x8b, 0x09" },
    (@ "mov r10, qword [rcx]")          => { ".byte 0x4c, 0x8b, 0x11" },
    (@ "mov r11, qword [rcx]")          => { ".byte 0x4c, 0x8b, 0x19" },
    (@ "mov r12, qword [rcx]")          => { ".byte 0x4c, 0x8b, 0x21" },
    (@ "mov r13, qword [rcx]")          => { ".byte 0x4c, 0x8b, 0x29" },
    (@ "mov r14, qword [rcx]")          => { ".byte 0x4c, 0x8b, 0x31" },
    (@ "mov r15, qword [rcx]")          => { ".byte 0x4c, 0x8b, 0x39" },

    (@ "mov rax, qword [rcx + 0x8]")          => { ".byte 0x48, 0x8b, 0x41, 0x08" },
    (@ "mov rcx, qword [rcx + 0x8]")          => { ".byte 0x48, 0x8b, 0x49, 0x08" },
    (@ "mov rdx, qword [rcx + 0x8]")          => { ".byte 0x48, 0x8b, 0x51, 0x08" },
    (@ "mov rsi, qword [rcx + 0x8]")          => { ".byte 0x48, 0x8b, 0x71, 0x08" },
    (@ "mov rdi, qword [rcx + 0x8]")          => { ".byte 0x48, 0x8b, 0x79, 0x08" },
    (@ "mov r8, qword [rcx + 0x8]")           => { ".byte 0x4c, 0x8b, 0x41, 0x08" },
    (@ "mov r9, qword [rcx + 0x8]")           => { ".byte 0x4c, 0x8b, 0x49, 0x08" },
    (@ "mov r10, qword [rcx + 0x8]")          => { ".byte 0x4c, 0x8b, 0x51, 0x08" },
    (@ "mov r11, qword [rcx + 0x8]")          => { ".byte 0x4c, 0x8b, 0x59, 0x08" },
    (@ "mov r12, qword [rcx + 0x8]")          => { ".byte 0x4c, 0x8b, 0x61, 0x08" },
    (@ "mov r13, qword [rcx + 0x8]")          => { ".byte 0x4c, 0x8b, 0x69, 0x08" },
    (@ "mov r14, qword [rcx + 0x8]")          => { ".byte 0x4c, 0x8b, 0x71, 0x08" },
    (@ "mov r15, qword [rcx + 0x8]")          => { ".byte 0x4c, 0x8b, 0x79, 0x08" },

    (@ "mov rax, qword [rcx + 0x10]")          => { ".byte 0x48, 0x8b, 0x41, 0x10" },
    (@ "mov rcx, qword [rcx + 0x10]")          => { ".byte 0x48, 0x8b, 0x49, 0x10" },
    (@ "mov rdx, qword [rcx + 0x10]")          => { ".byte 0x48, 0x8b, 0x51, 0x10" },
    (@ "mov rsi, qword [rcx + 0x10]")          => { ".byte 0x48, 0x8b, 0x71, 0x10" },
    (@ "mov rdi, qword [rcx + 0x10]")          => { ".byte 0x48, 0x8b, 0x79, 0x10" },
    (@ "mov r8, qword [rcx + 0x10]")           => { ".byte 0x4c, 0x8b, 0x41, 0x10" },
    (@ "mov r9, qword [rcx + 0x10]")           => { ".byte 0x4c, 0x8b, 0x49, 0x10" },
    (@ "mov r10, qword [rcx + 0x10]")          => { ".byte 0x4c, 0x8b, 0x51, 0x10" },
    (@ "mov r11, qword [rcx + 0x10]")          => { ".byte 0x4c, 0x8b, 0x59, 0x10" },
    (@ "mov r12, qword [rcx + 0x10]")          => { ".byte 0x4c, 0x8b, 0x61, 0x10" },
    (@ "mov r13, qword [rcx + 0x10]")          => { ".byte 0x4c, 0x8b, 0x69, 0x10" },
    (@ "mov r14, qword [rcx + 0x10]")          => { ".byte 0x4c, 0x8b, 0x71, 0x10" },
    (@ "mov r15, qword [rcx + 0x10]")          => { ".byte 0x4c, 0x8b, 0x79, 0x10" },

    (@ "mov rax, qword [rcx + 0x18]")          => { ".byte 0x48, 0x8b, 0x41, 0x18" },
    (@ "mov rcx, qword [rcx + 0x18]")          => { ".byte 0x48, 0x8b, 0x49, 0x18" },
    (@ "mov rdx, qword [rcx + 0x18]")          => { ".byte 0x48, 0x8b, 0x51, 0x18" },
    (@ "mov rsi, qword [rcx + 0x18]")          => { ".byte 0x48, 0x8b, 0x71, 0x18" },
    (@ "mov rdi, qword [rcx + 0x18]")          => { ".byte 0x48, 0x8b, 0x79, 0x18" },
    (@ "mov r8, qword [rcx + 0x18]")           => { ".byte 0x4c, 0x8b, 0x41, 0x18" },
    (@ "mov r9, qword [rcx + 0x18]")           => { ".byte 0x4c, 0x8b, 0x49, 0x18" },
    (@ "mov r10, qword [rcx + 0x18]")          => { ".byte 0x4c, 0x8b, 0x51, 0x18" },
    (@ "mov r11, qword [rcx + 0x18]")          => { ".byte 0x4c, 0x8b, 0x59, 0x18" },
    (@ "mov r12, qword [rcx + 0x18]")          => { ".byte 0x4c, 0x8b, 0x61, 0x18" },
    (@ "mov r13, qword [rcx + 0x18]")          => { ".byte 0x4c, 0x8b, 0x69, 0x18" },
    (@ "mov r14, qword [rcx + 0x18]")          => { ".byte 0x4c, 0x8b, 0x71, 0x18" },
    (@ "mov r15, qword [rcx + 0x18]")          => { ".byte 0x4c, 0x8b, 0x79, 0x18" },


    (@ "mov rax, qword [rcx + 0x20]")          => { ".byte 0x48, 0x8b, 0x41, 0x20" },
    (@ "mov rcx, qword [rcx + 0x20]")          => { ".byte 0x48, 0x8b, 0x49, 0x20" },
    (@ "mov rdx, qword [rcx + 0x20]")          => { ".byte 0x48, 0x8b, 0x51, 0x20" },
    (@ "mov rsi, qword [rcx + 0x20]")          => { ".byte 0x48, 0x8b, 0x71, 0x20" },
    (@ "mov rdi, qword [rcx + 0x20]")          => { ".byte 0x48, 0x8b, 0x79, 0x20" },
    (@ "mov r8, qword [rcx + 0x20]")           => { ".byte 0x4c, 0x8b, 0x41, 0x20" },
    (@ "mov r9, qword [rcx + 0x20]")           => { ".byte 0x4c, 0x8b, 0x49, 0x20" },
    (@ "mov r10, qword [rcx + 0x20]")          => { ".byte 0x4c, 0x8b, 0x51, 0x20" },
    (@ "mov r11, qword [rcx + 0x20]")          => { ".byte 0x4c, 0x8b, 0x59, 0x20" },
    (@ "mov r12, qword [rcx + 0x20]")          => { ".byte 0x4c, 0x8b, 0x61, 0x20" },
    (@ "mov r13, qword [rcx + 0x20]")          => { ".byte 0x4c, 0x8b, 0x69, 0x20" },
    (@ "mov r14, qword [rcx + 0x20]")          => { ".byte 0x4c, 0x8b, 0x71, 0x20" },
    (@ "mov r15, qword [rcx + 0x20]")          => { ".byte 0x4c, 0x8b, 0x79, 0x20" },

    (@ "mov al, byte [rcx + 0x8]")              => { ".byte 0x8a, 0x41, 0x08" },
    (@ "mov al, byte [rcx + 0x10]")             => { ".byte 0x8a, 0x41, 0x10" },
    (@ "mov al, byte [rcx + 0x18]")             => { ".byte 0x8a, 0x41, 0x18" },
    (@ "mov al, byte [rcx + 0x20]")             => { ".byte 0x8a, 0x41, 0x20" },

    (@ "movsd qword [rdx], xmm0")          => { ".byte 0xF2, 0x0F, 0x11, 0x02" },
    (@ "movsd xmm0, qword [rdx]")          => { ".byte 0xF2, 0x0F, 0x10, 0x02" },
    (@ "movsd xmm0, qword [rcx]")               => { ".byte 0xF2, 0x0F, 0x10, 0x01" },
    (@ "movsd xmm1, qword [rcx + 0x8]")         => { ".byte 0xf2, 0x0f, 0x10, 0x49, 0x08" },
    (@ "movsd xmm2, qword [rcx + 0x8]")         => { ".byte 0xf2, 0x0f, 0x10, 0x51, 0x10" },
    (@ "movsd xmm3, qword [rcx + 0x8]")         => { ".byte 0xf2, 0x0f, 0x10, 0x59, 0x18" },

    (@ "mov rdi, qword [rcx]")            => { ".byte 0x48, 0x8b, 0x39" },
    (@ "mov rsi, qword [rcx + 0x8]")            => { ".byte 0x48, 0x8b, 0x71, 0x08" },
    (@ "mov rdx, rcx")                    => { ".byte 0x48, 0x89, 0xca" },
    (@ "mov rcx, rdx")                    => { ".byte 0x48, 0x89, 0xca" },
    (@ "cld")                               => { ".byte 0xfc"},
    (@ "rep movsb")                     => { ".byte 0xf3, 0xa4" },
    (@ "rep stosb")                     => { ".byte 0xf3, 0xaa" },

    (@ "mov r8, rdi")                   => { ".byte 0x49, 0x89, 0xf8" },
    (@ "mov r9, rsi")                   => { ".byte 0x49, 0x89, 0xf1" },
    (@ "mov r10, rcx")                  => { ".byte 0x49, 0x89, 0xca" },
    (@ "mov rcx, r10")                  => { ".byte 0x4c, 0x89, 0xd1" },
    (@ "mov rsi, r9")                   => { ".byte 0x4c, 0x89, 0xce" },
    (@ "mov rdi, r8")                   => { ".byte 0x4c, 0x89, 0xc7" },

    (@ "movsd xmm2, qword [rcx + 0x10]")    => { ".byte 0xf2, 0x0f, 0x10, 0x51, 0x10" },
    (@ "movsd xmm3, qword [rcx + 0x18]")    => { ".byte 0xf2, 0x0f, 0x10, 0x59, 0x18" },



    (@ $instr:tt) => {
        compile_error!( concat!("Unsupported instruction ", stringify!($instr)))
    },
    ( $( $instr:tt ),* $(,)? ) => {
        concat!( $( encode!(@ $instr), "\n" ),* )
    },
}
